

// outer dimensions
$sg-width: 4em;
$sg-height: 2em;
$sg-margin: .5em;

// track dimensions
$sg-track-pad: .3em;
$sg-track-width: $sg-width - 2 * $sg-track-pad ;
$sg-track-height: 1.3em;

// track color per state
$sg-track-color: rgb(196,196,196);
$sg-track-color-on: rgb(40,166,38);

// handle dimensions
$sg-handle-height: 1em;
$sg-handle-width: 1.5em;



// handle color per state
$sg-handle-color-off: rgb(196,196,196);
$sg-handle-color-on: rgb(255,255,255);
$sg-handle-color-hover: lighten($sg-handle-color-off, 30%);

// in the off state how big is the border colorerd the same as the background
$sg-handle-clear-border: .5em;

// how far down the track does the handle begin at
$sg-handle-start-offset: .3em;

// nice lookly timings for the animations
$sg-transition-handle: all 500ms cubic-bezier(.165, .840, .440, 1.000);
$sg-transition-track: all 300ms cubic-bezier(.215, .610, .355, 1.000);


// computed off state leftmost position
$sg-handle-left: $sg-handle-start-offset;
$sg-handle-top: ($sg-track-height / 2 - $sg-handle-height / 2 );
.fi-switch--simplygreen
{
    min-width: $sg-track-width;

    background-color: inherit;
}


.fi-switch__container--simplygreen
{
    width: $sg-width;
    height: $sg-height;
    margin: $sg-margin;

    background-color: inherit;

    &:hover
    {
        .fi-simplygreen__handle:before,
        {
            background-color: lighten($b2-color-off, 40%);
        }
    }
}

/*Set up the general position and location of the toggle relative to the label */
.fi-simplygreen__track,
.fi-simplygreen__handle
{
    position: relative;
    top: $sg-height / 2  - $sg-track-height / 2 ;
    left: $sg-track-pad;

    display: block;

    margin: 0 auto;

    background-color: inherit;
}

/* Create our track*/
.fi-simplygreen__track:before
{
    position: absolute;

    display: block;

    width: $sg-track-width;
    height: $sg-track-height;
    margin: 0 auto;

    content: ' ';
    transition: $sg-transition-track;
    transform: scaleY(.1);
    transform-origin: 50% 50%;

    color: $sg-handle-color-on;
    border-radius: 2px;
    background-color: $sg-track-color;
}

.fi-simplygreen__track
{
    // Pass the color down
    background-color: inherit;
}

@function handleLeft($width)
{
    @return $sg-track-pad + $sg-handle-start-offset + $width / 2;
}

/* the subtle clear border around the handle */
.fi-simplygreen__track:after
{
    position: absolute;
    top: $sg-handle-top;
    left: $sg-handle-left;

    display: block;

    width: $sg-handle-width;
    height: $sg-handle-height;

    content: ' ';
    transition: $sg-transition-handle;
    transform: scale(1.15);

    border-radius: .5em;
    background-color: inherit;
}



// Enlage the track when checked
.fi-switch__input--simplygreen:checked + .fi-simplygreen__track:before
{
    transform: scaleY(1);

    border-radius: $sg-track-height;
    background-color: $sg-track-color-on;
}

// Hide the subtle clear border
.fi-switch__input--simplygreen:checked + .fi-simplygreen__track:after
{
    left: $sg-track-width - .3 - $sg-handle-width;

    width: $sg-handle-width ;
    height: $sg-handle-height;

    opacity: 0;
}

/*Create the handle which moves across the track */
.fi-simplygreen__handle:before
{
    position: absolute;
    top: $sg-handle-top;
    left: $sg-handle-left;

    display: block;

    width: $sg-handle-width;
    height: $sg-handle-height;

    content: ' ';
    transition: $sg-transition-handle;

    border-radius: .5em;
    background-color: $sg-handle-color-off;
}

/* movve our handle across and change the color to signify its enabled */
.fi-switch__input--simplygreen:checked + .fi-simplygreen__track + .fi-simplygreen__handle:before
{
    left: $sg-track-width - $sg-handle-start-offset - $sg-handle-width;

    background-color: $sg-handle-color-on;
}

/* our check mark */
.fi-simplygreen__handle:after
{
    font-size: 1em;
    line-height: 1em;

    position: absolute;
    left: .5em;

    display: block;

    width: 1em;
    height: 1em;
    margin: 0 auto;

    content: '';
    transition: $sg-transition-track;

    opacity: 0;
    background: url('svgs/ic_check_black_24px.svg');
    background-repeat: no-repeat;
    // background-color: $sg-handle-color-on;
    background-size: 1em 1.2em;
}

/* Now show the check mark */
.fi-switch__input--simplygreen:checked + .fi-simplygreen__track + .fi-simplygreen__handle:after
{
    opacity: 1;
}
