
$b2-color-off : rgb(132,132,132);
$b2-color-on : white;
$b2-track-color : rgba(170,170,170,0.3);
$b2-transition : all 300ms cubic-bezier(0.455, 0.030, 0.515, 0.955);
$b2-track-width : 4em;
$b2-height : 2em;
$b2-circle-size : 2em;
$b2-border-height : 0.4em;
$b2-track-height : 0.5em;
$b2-label-pad : 2em;


.fi-switch--b2spirit {
  background-color : inherit;
}

.fi-switch__container--b2spirit {
  width : $b2-track-width;
  height : $b2-circle-size;
}

.fi-switch__label--b2spirit {
  padding : 0 $b2-label-pad 0 0;
}

/* The switch checked and unchecked states for the button */
.fi-switch__input--b2spirit {
  /* the stars of the show are the psuedo elements*/
}

.fi-switch--label-bottom {
  .fi-switch__label--b2spirit {
    padding : $b2-label-pad 0 0 0;
  }
}

@mixin stealth-handle {
  position : absolute;
  top : -($b2-height / 2) + ($b2-track-height / 2);
  left : -$b2-circle-size / 2;
  display : block;
  width : $b2-circle-size;
  height : $b2-circle-size;
  content : '';
  transition : $b2-transition;
  border-radius : 50%;
  background-clip : padding-box;
}

.fi-b2spirit__track, .fi-b2spirit__handle {
  position : absolute;
  display : inline-block;
  background-color : inherit;
  align-self : center;
}

/* sets up the track and the pseudo elements (circles)*/
.fi-b2spirit__track:before {
  position : absolute;
  display : block;
  /* track size and length*/

  width : $b2-track-width;
  height : $b2-track-height;
  margin : 0 auto;
  content : ' ';
  /* give it a subtle look*/

  color : $b2-track-color;
  border-radius : $b2-height;
  background-color : $b2-track-color;
}

/* The larger outer circle for the handle. Starts hollow and becomes filled when checked*/
.fi-b2spirit__track:after {
  transform : scale(1.1);
  background-color : inherit;

  @include stealth-handle;
}

/* The middle circle which changes color*/
.fi-b2spirit__handle:before {
  /* give it a border to keep centered with the :before circle*/
  background-color : $b2-color-off;

  @include stealth-handle;
}

/* The smaller circle which gives the handle a hollow effect when unchecked*/
.fi-b2spirit__handle:after {
  transform : scale(0.8);
  /* give it a border to keep centered with the :before circle*/

  background-color : inherit;

  @include stealth-handle;
}

/* Move the background circle */
.fi-switch__input--b2spirit:checked + .fi-b2spirit__track:after {
  left : ($b2-track-width / 2) + ($b2-circle-size / 2);
}

/* Move and change the background for the main handle circle */
.fi-switch__input--b2spirit:checked + .fi-b2spirit__track + .fi-b2spirit__handle:before {
  left : ($b2-track-width / 2) + ($b2-circle-size / 2);
  background : $b2-color-on;
}

/* shrink the hollow middle*/
.fi-switch__input--b2spirit:checked + .fi-b2spirit__track + .fi-b2spirit__handle:after {
  left : ($b2-track-width / 2) + ($b2-circle-size / 2);
  /* shrink to nothing!*/

  transform : scale(0);
}